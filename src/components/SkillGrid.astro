---
import { categories, getSkillById } from "../data/skills";
import SkillCard from "./SkillCard.astro";
---

<section id="skills" class="mx-auto max-w-[1100px] px-6 pb-28">
  {categories.map((cat) => {
    const catSkills = cat.skills.map((id) => getSkillById(id)).filter(Boolean);
    return (
      <div class="mb-20 last:mb-0">
        <h2 class="text-3xl sm:text-4xl text-[var(--color-text)] mb-8">
          {cat.name}
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
          {catSkills.map((skill) => skill && <SkillCard skill={skill} />)}
        </div>
      </div>
    );
  })}
</section>
