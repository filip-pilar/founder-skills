---
import type { Skill } from "../data/skills";

interface Props {
  skill: Skill;
}

const { skill } = Astro.props;

const typeLabels: Record<string, string> = {
  "text-input": "Text input",
  "visual-input": "Visual input",
  conversational: "Conversational",
  planning: "Planning",
};
---

<div class="group relative rounded-2xl bg-[var(--color-bg-card)] hover:bg-[var(--color-bg-card-hover)] transition-colors duration-200 cursor-pointer">
  <a href={`/skills/${skill.id}`} class="absolute inset-0 rounded-2xl z-0" aria-label={skill.name}></a>
  <div class="relative z-10 pointer-events-none p-6">
    <div class="flex items-start justify-between">
      <p class="text-[12px] uppercase tracking-wider text-[var(--color-text-muted)] mb-4">
        {typeLabels[skill.type] || skill.type}
      </p>
      <a
        href={`/downloads/${skill.downloadFile}`}
        download
        class="pointer-events-auto relative z-20 p-1.5 text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors"
        title={`Download ${skill.name}`}
        aria-label={`Download ${skill.name}`}
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      </a>
    </div>
    <h3 class="text-[16px] font-medium text-[var(--color-text)] leading-snug">
      {skill.name}
    </h3>
    <p class="mt-2 text-[14px] text-[var(--color-text-muted)] leading-relaxed">
      {skill.description}
    </p>
  </div>
</div>
